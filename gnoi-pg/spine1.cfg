    acl {
        cpm-filter {
            ipv4-filter {
                statistics-per-entry true
                entry 10 {
                    description "Accept incoming ICMP unreachable messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type dest-unreachable
                            code [
                                0
                                1
                                2
                                3
                                4
                                13
                            ]
                        }
                    }
                }
                entry 20 {
                    description "Accept incoming ICMP time-exceeded messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type time-exceeded
                        }
                    }
                }
                entry 30 {
                    description "Accept incoming ICMP parameter problem messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type param-problem
                        }
                    }
                }
                entry 40 {
                    description "Accept incoming ICMP echo messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type echo
                        }
                    }
                }
                entry 50 {
                    description "Accept incoming ICMP echo-reply messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type echo-reply
                        }
                    }
                }
                entry 60 {
                    description "Accept incoming SSH when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 22
                        }
                    }
                }
                entry 70 {
                    description "Accept incoming SSH when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 22
                        }
                    }
                }
                entry 80 {
                    description "Accept incoming Telnet when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 23
                        }
                    }
                }
                entry 90 {
                    description "Accept incoming Telnet when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 23
                        }
                    }
                }
                entry 100 {
                    description "Accept incoming TACACS+ when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 49
                        }
                    }
                }
                entry 110 {
                    description "Accept incoming TACACS+ when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 49
                        }
                    }
                }
                entry 120 {
                    description "Accept incoming DNS response messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        source-port {
                            operator eq
                            value 53
                        }
                    }
                }
                entry 130 {
                    description "Accept incoming DHCP messages targeted for BOOTP/DHCP client"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 68
                        }
                    }
                }
                entry 140 {
                    description "Accept incoming TFTP read-request and write-request messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 69
                        }
                    }
                }
                entry 150 {
                    description "Accept incoming HTTP(JSON-RPC) when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 80
                        }
                    }
                }
                entry 160 {
                    description "Accept incoming HTTP(JSON-RPC) when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 80
                        }
                    }
                }
                entry 170 {
                    description "Accept incoming NTP messages from servers"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        source-port {
                            operator eq
                            value 123
                        }
                    }
                }
                entry 180 {
                    description "Accept incoming SNMP GET/GETNEXT messages from servers"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 161
                        }
                    }
                }
                entry 190 {
                    description "Accept incoming BGP when the other router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 179
                        }
                    }
                }
                entry 200 {
                    description "Accept incoming BGP when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 179
                        }
                    }
                }
                entry 210 {
                    description "Accept incoming HTTPS(JSON-RPC) when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 443
                        }
                    }
                }
                entry 220 {
                    description "Accept incoming HTTPS(JSON-RPC) when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 443
                        }
                    }
                }
                entry 230 {
                    description "Accept incoming single-hop BFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 3784
                        }
                    }
                }
                entry 240 {
                    description "Accept incoming multi-hop BFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 4784
                        }
                    }
                }
                entry 250 {
                    description "Accept incoming uBFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 6784
                        }
                    }
                }
                entry 260 {
                    description "Accept incoming gNMI messages when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 57400
                        }
                    }
                }
                entry 270 {
                    description "Accept incoming UDP traceroute messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            range {
                                start 33434
                                end 33464
                            }
                        }
                    }
                }
                entry 280 {
                    description "Accept incoming ICMP timestamp messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type timestamp
                        }
                    }
                }
                entry 290 {
                    description "Accept incoming OSPF messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol 89
                    }
                }
                entry 300 {
                    description "Accept incoming DHCP relay messages targeted for BOOTP/DHCP server"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 67
                        }
                    }
                }
                entry 310 {
                    description "Accept ICMP fragment packets"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        fragment true
                        protocol icmp
                    }
                }
                entry 320 {
                    description "Accept incoming LDP packets"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        source-port {
                            operator eq
                            value 646
                        }
                    }
                }
                entry 330 {
                    description "Accept incoming LDP packets with source-port 646"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 646
                        }
                    }
                }
                entry 340 {
                    description "Accept incoming LDP packets with destination-port 646"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 646
                        }
                    }
                }
                entry 350 {
                    description "Accept incoming gRIBI packets with destination-port 57401"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 57401
                        }
                    }
                }
                entry 360 {
                    description "Accept incoming p4rt packets with destination-port 9559"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 9559
                        }
                    }
                }
                entry 370 {
                    description "Accept incoming IGMP packets"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol igmp
                    }
                }
                entry 380 {
                    description "Drop all else"
                    action {
                        drop {
                            log true
                        }
                    }
                }
            }
            ipv6-filter {
                statistics-per-entry true
                entry 10 {
                    description "Accept incoming ICMPv6 unreachable messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type dest-unreachable
                            code [
                                0
                                1
                                2
                                3
                                4
                                5
                                6
                            ]
                        }
                    }
                }
                entry 20 {
                    description "Accept incoming ICMPv6 packet-too-big messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type packet-too-big
                        }
                    }
                }
                entry 30 {
                    description "Accept incoming ICMPv6 time-exceeded messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type time-exceeded
                        }
                    }
                }
                entry 40 {
                    description "Accept incoming ICMPv6 parameter problem messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type param-problem
                        }
                    }
                }
                entry 50 {
                    description "Accept incoming ICMPv6 echo-request messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type echo-request
                        }
                    }
                }
                entry 60 {
                    description "Accept incoming ICMPv6 echo-reply messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type echo-reply
                        }
                    }
                }
                entry 70 {
                    description "Accept incoming ICMPv6 router-advertisement messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type router-advertise
                        }
                    }
                }
                entry 80 {
                    description "Accept incoming ICMPv6 neighbor-solicitation messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type neighbor-solicit
                        }
                    }
                }
                entry 90 {
                    description "Accept incoming ICMPv6 neighbor-advertisement messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type neighbor-advertise
                        }
                    }
                }
                entry 100 {
                    description "Accept incoming SSH when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 22
                        }
                    }
                }
                entry 110 {
                    description "Accept incoming SSH when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 22
                        }
                    }
                }
                entry 120 {
                    description "Accept incoming Telnet when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 23
                        }
                    }
                }
                entry 130 {
                    description "Accept incoming Telnet when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 23
                        }
                    }
                }
                entry 140 {
                    description "Accept incoming TACACS+ when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 49
                        }
                    }
                }
                entry 150 {
                    description "Accept incoming TACACS+ when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 49
                        }
                    }
                }
                entry 160 {
                    description "Accept incoming DNS response messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        source-port {
                            operator eq
                            value 53
                        }
                    }
                }
                entry 170 {
                    description "Accept incoming TFTP read-request and write-request messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 69
                        }
                    }
                }
                entry 180 {
                    description "Accept incoming HTTP(JSON-RPC) when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 80
                        }
                    }
                }
                entry 190 {
                    description "Accept incoming HTTP(JSON-RPC) when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 80
                        }
                    }
                }
                entry 200 {
                    description "Accept incoming NTP messages from servers"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        source-port {
                            operator eq
                            value 123
                        }
                    }
                }
                entry 210 {
                    description "Accept incoming SNMP GET/GETNEXT messages from servers"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 161
                        }
                    }
                }
                entry 220 {
                    description "Accept incoming BGP when the other router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 179
                        }
                    }
                }
                entry 230 {
                    description "Accept incoming BGP when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 179
                        }
                    }
                }
                entry 240 {
                    description "Accept incoming HTTPS(JSON-RPC) when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 443
                        }
                    }
                }
                entry 250 {
                    description "Accept incoming HTTPS(JSON-RPC) when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 443
                        }
                    }
                }
                entry 260 {
                    description "Accept incoming DHCPv6 client messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 546
                        }
                    }
                }
                entry 270 {
                    description "Accept incoming single-hop BFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 3784
                        }
                    }
                }
                entry 280 {
                    description "Accept incoming multi-hop BFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 4784
                        }
                    }
                }
                entry 290 {
                    description "Accept incoming uBFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 6784
                        }
                    }
                }
                entry 300 {
                    description "Accept incoming gNMI messages when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 57400
                        }
                    }
                }
                entry 310 {
                    description "Accept incoming UDP traceroute messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            range {
                                start 33434
                                end 33464
                            }
                        }
                    }
                }
                entry 320 {
                    description "Accept incoming IPV6 hop-in-hop messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header 0
                    }
                }
                entry 330 {
                    description "Accept incoming IPV6 fragment header messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header 44
                    }
                }
                entry 340 {
                    description "Accept incoming OSPF messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header 89
                    }
                }
                entry 350 {
                    description "Accept incoming DHCPv6 relay messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 547
                        }
                    }
                }
                entry 360 {
                    description "Accept incoming gRIBI packets with destination-port 57401"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 57401
                        }
                    }
                }
                entry 370 {
                    description "Accept incoming p4rt packets with destination-port 9559"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 9559
                        }
                    }
                }
                entry 380 {
                    description "Accept incoming IGMP packets"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header igmp
                    }
                }
                entry 390 {
                    description "Drop all else"
                    action {
                        drop {
                            log true
                        }
                    }
                }
            }
        }
        policers {
            system-cpu-policer icmp {
                entry-specific false
                peak-packet-rate 1000
                max-packet-burst 1000
            }
        }
    }
    bfd {
        subinterface system0.0 {
            admin-state enable
            desired-minimum-transmit-interval 1000000
            required-minimum-receive 1000000
            detection-multiplier 3
            minimum-echo-receive-interval 0
        }
    }
    interface ethernet-1/1 {
        description "to leaf1"
        admin-state enable
        vlan-tagging true
        subinterface 1 {
            admin-state enable
            ipv4 {
                address 10.1.2.1/31 {
                }
            }
            vlan {
                encap {
                    single-tagged {
                        vlan-id 1
                    }
                }
            }
        }
        sflow {
            admin-state disable
        }
    }
    interface ethernet-1/2 {
        description "to leaf2"
        admin-state enable
        vlan-tagging true
        subinterface 1 {
            admin-state enable
            ipv4 {
                address 10.1.2.5/31 {
                }
            }
            vlan {
                encap {
                    single-tagged {
                        vlan-id 1
                    }
                }
            }
        }
        sflow {
            admin-state disable
        }
    }
    interface ethernet-1/3 {
        description "to leaf3"
        admin-state enable
        vlan-tagging true
        subinterface 1 {
            admin-state enable
            ipv4 {
                address 10.1.2.9/31 {
                }
            }
            vlan {
                encap {
                    single-tagged {
                        vlan-id 1
                    }
                }
            }
        }
        sflow {
            admin-state disable
        }
    }
    interface mgmt0 {
        admin-state enable
        subinterface 0 {
            admin-state enable
            ipv4 {
                dhcp-client {
                }
            }
            ipv6 {
                dhcp-client {
                }
            }
        }
    }
    interface system0 {
        description system
        subinterface 0 {
            description system
            admin-state enable
            ipv4 {
                address 10.0.0.5/32 {
                }
            }
        }
    }
    system {
        aaa {
            authentication {
                idle-timeout 7200
                authentication-method [
                    local
                ]
            }
            server-group local {
                type local
            }
        }
        lldp {
            admin-state enable
        }
        gnmi-server {
            admin-state enable
            network-instance mgmt {
                admin-state enable
                tls-profile clab-profile
            }
            unix-socket {
                admin-state enable
            }
        }
        tls {
            server-profile clab-profile {
                key $aes$fWKFYdsIHDBQ=$gjkL37/yTO3aej/4Kr0KA5l8o/ukHOPSNTJhx2W6hwPQpj6z3mfhyiMlCu0Zg2KwJpPCTwffnL6w74YmVKtUf9n8pu4TatwyOa5qTSqAFGg2UyD3/cFB4KHfnVkCt3bRFtU/xgIOBH/d+Uh3lj5gQCc4AVFqnSsqPtuSZREdV/aG89GLUwiu4AoHnadUEKHIadFzdtpprcA+W9rTto5ZF62kW0AVG38JKx0js9kwz8TCIgAzK6EpOvUuImUlGiYo6UeICVZBRIav/+d18NqaHe8vowhnnapCLy09ZSGU8TMRG1e7bDNBO3BodWuIZHXNUR5hEi99juhs1M0303qo/iwGVXGHfbYk2R1Tai0ylx2BfSbWN3f36gNdCFSca8+SA8jIS9/USExkRmu4zOKQmAsd0gpJivFD2+TNz15lPe+RJjDPW4S86jWQ1KWrsKtlrUaAp5vglJPW5nKG1Oak+UKfFAxMIwvEV+KsJmN/4y1TQ5T4kIGnVPwreApaMKpmYFmphMCEoa51rOwlNbIsPZr0xK5N+6ZrrSjJSK8Q21iSYi2Ov99kIZiomltlGv/feEyH71pJ04z7C4YmVscKMeOh61vCNGDIoP5O4iRc2F+sA++ROPAGq6ibatv9UmE2SMtm9t90j64npHluoYFZhMI1McF0p2hsAtGjgGHr3ZOou6euZygUFMuDGCnspigPA6ShA5cG+vrCjtrYguymuRLCooRAr9eLYqmHgxc2Fn0G6kLvv0xCTfWSBp8q5uQaP5T6GRVj7kcJEAcPpbw9WikwUKF0URkPEEyixLaaNmldNVjFz49atNKefM+i/c06tCE3ffXIgAmPdymNsF4mfOvOpamak6ADigrIpKqFQ4Yklj+/+5LcnKnErhuToU7TXcRcGSPY5HU1Vj+dT/jmHYj5hAuTsjwMtjj8VDTt0iv7jxFwje46DAOhGuTETNm+OAxE3c472/vCoOiWhtS9HRwZHGKt3XAXGQDhiHs+Sq0Z6ZP/zH69YiodpWyj6kQH5CRPz37Tnk+3eKI9jF4f+imbTSH10Y0JkxjB+8aPwc60+wh7+Zaps2g5kxL8x4w9B65NgzlgZ5sX/SyFnLuakbadFwo+UdnCeDVFNEpvINGi/aZKNK5dVj52OZM+5u34AI15eUlXv0tjk0wawicxjDJs3cr+zv/VZKnumPodMFqp5bxmVJ53caU5XFBGREFZsXfqGXYrpmhSLnv6phDtAmqAhbZbw5HJnERgi3Zy3d6y9Y6P0dykwkbTRGDvFCQHnvDZ17HppxEW9iMieXuYAwSd9b9gzSg/U7hapVn/WoRLm8XJGMIA8kvnkHLe4vAzW3g1kB8ImgktaskiIGbe5Ax6m6J5IwetsGItSRMPfx081e5jIIlkWrmnHwbs8NG3t9Qz7hdcTSu1CVvntVCJbsns1rwIcHvQQgQydBaMlhJ8GxyjPdTrZ5NvS7aiQjQuaP40xEvuSdP7OOznmH+BNZTlwkD/m80QcM+ONwyrWK1NS4h3XpdoOIXkJDYYep2xSwYpNu3+scFj7UtWjYBl32Aalc1or9b2A9xYjO6iBCVedAUKi6FGTEVK3qLqRt2IwirIYGWpUFvgxaKZG5Gs/LraXebDfIpdxj+hiqKOqbtUxKEvYDwNwK6k+nPdHmnOaeOphzvT24nt50iqcrv0NQbsK1C8v6k2w6bnmX0XImlJQYJvjRXTQr1tAQ4OIJFk2oOf8GBEDj7CtZ8mkzQ9UzyWy0ec1BAZJWJ53tw9RVJB7hHj6bo2wasq7cmqghpwly0OMgutF/gdJKwd+WM18q0GVVaGjpviUHozWg5qp6+FfGkvFbgVRiiM61l1ozniBR5LGgVMfxczhBvxqAm7ArJHm6pvTXgANczpNtXJLyPa2JNigkYAXtCE29rqZjxKC25ncMK9SPGNImGmom51xtUV9Vk+iode87ts5oyk8MKYT76jSgzC1oYUFxPd+oV+1PYLXPcFHysci1WQxacwi4ZjS2oH5LKWCmkwinsYL48g+TJVJTYeZZ36gVGrvaMWhn52U9xYOAASUPedwmM8A7HFbWrzDbg9801ixyS9BqBUm6cv7evUlkbG0NMOYB9WfYvsv/1Mjn1PQBlkLk7Ny69wlNbcVbgPwApJ5iZQUf9r1ksUxNBQdIdVFLu3GkkqmzKTGdqrjqBVEXTuHixvi5PpSp9IyfNeRGTvM/LJNz8NiW+NnKgSqcu296KtPMXA
                certificate "-----BEGIN CERTIFICATE-----
MIID9TCCAt2gAwIBAgIUH8+n0+HgEv0efP49nA7EkLbBlgAwDQYJKoZIhvcNAQEL
BQAwXTELMAkGA1UEBhMCQkUxEDAOBgNVBAcTB0FudHdlcnAxDjAMBgNVBAoTBU5v
a2lhMRYwFAYDVQQLEw1Db250YWluZXIgbGFiMRQwEgYDVQQDEwtlbGsgUm9vdCBD
QTAeFw0yMzAyMTIxMDI5MDBaFw0yNDAyMTIxMDI5MDBaMF8xCzAJBgNVBAYTAkJF
MRAwDgYDVQQHEwdBbnR3ZXJwMQ4wDAYDVQQKEwVOb2tpYTEWMBQGA1UECxMNQ29u
dGFpbmVyIGxhYjEWMBQGA1UEAxMNc3BpbmUxLmVsay5pbzCCASIwDQYJKoZIhvcN
AQEBBQADggEPADCCAQoCggEBAN+84uXmi8hxNiiUiuWn4iJkqGN0/CFrZCjJg86Z
AFXjIQqGaPMzlYwamEbA/1kr6517qa1zAtJMNdyUKLvme9oMtFVO9iVsRAGrzfno
I8QEg/pR7IqVR/xU/AveDXJ9hv07uPkq3nl/tfV+t7CZnqFZxOyQKV17PHVEt1PA
a8vtU0boxQlW5hGpFu8TbhAfeXZ58G38OPAiKtqr6A9FErynQ8I32K4nCfWlalf5
Sa1toC2dQOmJQ35s0LVNh8B2wGbBjJbaRb7nKxHeu/tFbyKFo4FA04HvmtpGnJJy
BjJaTglXC/uGoNA0msd12ZXeiFngUXZq4KhZXLbk9K1WL2UCAwEAAaOBqjCBpzAO
BgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwG
A1UdEwEB/wQCMAAwHQYDVR0OBBYEFDcYCwN3Vorc1OL57oJeVqw959nxMB8GA1Ud
IwQYMBaAFDGpB7FKhN1g4LwuHS8quA9HPGidMCgGA1UdEQQhMB+CBnNwaW5lMYIG
c3BpbmUxgg1zcGluZTEuZWxrLmlvMA0GCSqGSIb3DQEBCwUAA4IBAQAhteXXFyLB
zrWqRAtW/6IeUfnTXWnRVa+SybQg4JdESFVyc+ccap8ZOadQTh8ejM4J6Kb5qDKD
HQWZpCuj25qmOvziQ/ClOaa5zJgElXSw6ed24JRYBF3UNE6KjDO5/8ldvC79Lzl+
oK2SWqu26kLR13ooodkV8IGExI8axxpgUV1MXJIRmmiiRPxOKdNClCktFuaPgNFx
qGebKDdbjswnWTgE/xLheT0qotTlxxUyaSo8IqLO4v0qd//Qr8+A84jpQvRWqvsf
J+j0rJMO5r2/LJEcbWoijzzxzttu8qn41M+Jqw1vwhcf1YoK5OLIBvu8sJrXe4ia
lnZWmKaaHb9c
-----END CERTIFICATE-----
"
                authenticate-client false
            }
        }
        json-rpc-server {
            admin-state enable
            network-instance mgmt {
                http {
                    admin-state enable
                }
                https {
                    admin-state enable
                    tls-profile clab-profile
                }
            }
        }
        clock {
            timezone Europe/Rome
        }
        ssh-server {
            network-instance mgmt {
                admin-state enable
            }
        }
        banner {
            login-banner "................................................................
:                  Welcome to Nokia SR Linux!                  :
:              Open Network OS for the NetOps era.             :
:                                                              :
:    This is a freely distributed official container image.    :
:                      Use it - Share it                       :
:                                                              :
: Get started: https://learn.srlinux.dev                       :
: Container:   https://go.srlinux.dev/container-image          :
: Docs:        https://doc.srlinux.dev/22-6                    :
: Rel. notes:  https://doc.srlinux.dev/rn22-6-4                :
: YANG:        https://yang.srlinux.dev/v22.6.4                :
: Discord:     https://go.srlinux.dev/discord                  :
: Contact:     https://go.srlinux.dev/contact-sales            :
................................................................
"
        }
        logging {
            network-instance mgmt
            buffer messages {
                rotate 3
                size 10000000
                facility local6 {
                    priority {
                        match-above informational
                    }
                }
            }
            buffer system {
                facility auth {
                    priority {
                        match-above warning
                    }
                }
                facility cron {
                    priority {
                        match-above warning
                    }
                }
                facility daemon {
                    priority {
                        match-above warning
                    }
                }
                facility ftp {
                    priority {
                        match-above warning
                    }
                }
                facility kern {
                    priority {
                        match-above warning
                    }
                }
                facility lpr {
                    priority {
                        match-above warning
                    }
                }
                facility mail {
                    priority {
                        match-above warning
                    }
                }
                facility news {
                    priority {
                        match-above warning
                    }
                }
                facility syslog {
                    priority {
                        match-above warning
                    }
                }
                facility user {
                    priority {
                        match-above warning
                    }
                }
                facility uucp {
                    priority {
                        match-above warning
                    }
                }
                facility local0 {
                    priority {
                        match-above warning
                    }
                }
                facility local1 {
                    priority {
                        match-above warning
                    }
                }
                facility local2 {
                    priority {
                        match-above warning
                    }
                }
                facility local3 {
                    priority {
                        match-above warning
                    }
                }
                facility local4 {
                    priority {
                        match-above warning
                    }
                }
                facility local5 {
                    priority {
                        match-above warning
                    }
                }
                facility local7 {
                    priority {
                        match-above warning
                    }
                }
            }
            file messages {
                rotate 3
                size 10000000
                facility local6 {
                    priority {
                        match-above warning
                    }
                }
            }
            remote-server 172.22.22.11 {
                transport udp
                remote-port 1514
                subsystem aaa {
                    priority {
                        match-above informational
                    }
                }
                subsystem acl {
                    priority {
                        match-above informational
                    }
                }
                subsystem bfd {
                    priority {
                        match-above informational
                    }
                }
                subsystem bgp {
                    priority {
                        match-above informational
                    }
                }
                subsystem bridgetable {
                    priority {
                        match-above informational
                    }
                }
                subsystem chassis {
                    priority {
                        match-above informational
                    }
                }
                subsystem evpn {
                    priority {
                        match-above informational
                    }
                }
                subsystem fib {
                    priority {
                        match-above informational
                    }
                }
                subsystem gnmi {
                    priority {
                        match-above informational
                    }
                }
                subsystem lag {
                    priority {
                        match-above informational
                    }
                }
                subsystem linux {
                    priority {
                        match-above informational
                    }
                }
                subsystem lldp {
                    priority {
                        match-above informational
                    }
                }
                subsystem mgmt {
                    priority {
                        match-above informational
                    }
                }
                subsystem platform {
                    priority {
                        match-above informational
                    }
                }
                subsystem vxlan {
                    priority {
                        match-above informational
                    }
                }
            }
        }
    }
    network-instance default {
        interface ethernet-1/1.1 {
        }
        interface ethernet-1/2.1 {
        }
        interface ethernet-1/3.1 {
        }
        interface system0.0 {
        }
        protocols {
            bgp {
                admin-state enable
                autonomous-system 65177
                router-id 10.0.0.5
                group ebgp-underlay {
                    admin-state enable
                    export-policy export-to-underlay
                    import-policy import-from-underlay
                    failure-detection {
                        fast-failover true
                    }
                    timers {
                        connect-retry 10
                        hold-time 3
                        keepalive-interval 1
                        minimum-advertisement-interval 1
                    }
                }
                group ibgp-evpn {
                    admin-state enable
                    export-policy export-all
                    import-policy import-all
                    peer-as 65501
                    failure-detection {
                        enable-bfd true
                        fast-failover true
                    }
                    ipv4-unicast {
                        admin-state disable
                    }
                    ipv6-unicast {
                        admin-state disable
                    }
                    evpn {
                        admin-state enable
                    }
                    local-as 65501 {
                    }
                    route-reflector {
                        client true
                        cluster-id 10.0.0.5
                    }
                    timers {
                        connect-retry 10
                        hold-time 3
                        keepalive-interval 1
                        minimum-advertisement-interval 1
                    }
                    transport {
                        tcp-mss 1460
                        local-address 10.0.0.5
                    }
                }
                ipv4-unicast {
                    multipath {
                        allow-multiple-as true
                        max-paths-level-1 64
                        max-paths-level-2 64
                    }
                }
                evpn {
                    rapid-update true
                }
                neighbor 10.0.0.1 {
                    admin-state enable
                    peer-group ibgp-evpn
                }
                neighbor 10.0.0.2 {
                    admin-state enable
                    peer-group ibgp-evpn
                }
                neighbor 10.0.0.3 {
                    admin-state enable
                    peer-group ibgp-evpn
                }
                neighbor 10.1.2.0 {
                    admin-state enable
                    peer-as 64601
                    peer-group ebgp-underlay
                }
                neighbor 10.1.2.4 {
                    admin-state enable
                    peer-as 64602
                    peer-group ebgp-underlay
                }
                neighbor 10.1.2.8 {
                    admin-state enable
                    peer-as 64603
                    peer-group ebgp-underlay
                }
                route-advertisement {
                    rapid-withdrawal true
                    wait-for-fib-install true
                }
            }
        }
    }
    network-instance mgmt {
        type ip-vrf
        admin-state enable
        description "Management network instance"
        interface mgmt0.0 {
        }
        protocols {
            linux {
                import-routes true
                export-routes true
                export-neighbors true
            }
        }
    }
    routing-policy {
        prefix-set loopbacks {
            prefix 10.0.0.0/24 mask-length-range 32..32 {
            }
        }
        policy export-all {
            default-action {
                policy-result accept
            }
        }
        policy export-to-underlay {
            default-action {
                policy-result reject
            }
            statement 10 {
                match {
                    prefix-set loopbacks
                }
                action {
                    policy-result accept
                }
            }
            statement 20 {
                match {
                    family [
                        ipv4-unicast
                    ]
                }
                action {
                    policy-result accept
                }
            }
        }
        policy import-all {
            default-action {
                policy-result accept
            }
        }
        policy import-from-underlay {
            default-action {
                policy-result reject
            }
            statement 10 {
                match {
                    prefix-set loopbacks
                }
                action {
                    policy-result accept
                }
            }
            statement 20 {
                match {
                    family [
                        ipv4-unicast
                    ]
                }
                action {
                    policy-result accept
                }
            }
        }
        policy import-from-underlaydefault-action {
        }
    }
