    acl {
        cpm-filter {
            ipv4-filter {
                statistics-per-entry true
                entry 10 {
                    description "Accept incoming ICMP unreachable messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type dest-unreachable
                            code [
                                0
                                1
                                2
                                3
                                4
                                13
                            ]
                        }
                    }
                }
                entry 20 {
                    description "Accept incoming ICMP time-exceeded messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type time-exceeded
                        }
                    }
                }
                entry 30 {
                    description "Accept incoming ICMP parameter problem messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type param-problem
                        }
                    }
                }
                entry 40 {
                    description "Accept incoming ICMP echo messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type echo
                        }
                    }
                }
                entry 50 {
                    description "Accept incoming ICMP echo-reply messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type echo-reply
                        }
                    }
                }
                entry 60 {
                    description "Accept incoming SSH when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 22
                        }
                    }
                }
                entry 70 {
                    description "Accept incoming SSH when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 22
                        }
                    }
                }
                entry 80 {
                    description "Accept incoming Telnet when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 23
                        }
                    }
                }
                entry 90 {
                    description "Accept incoming Telnet when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 23
                        }
                    }
                }
                entry 100 {
                    description "Accept incoming TACACS+ when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 49
                        }
                    }
                }
                entry 110 {
                    description "Accept incoming TACACS+ when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 49
                        }
                    }
                }
                entry 120 {
                    description "Accept incoming DNS response messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        source-port {
                            operator eq
                            value 53
                        }
                    }
                }
                entry 130 {
                    description "Accept incoming DHCP messages targeted for BOOTP/DHCP client"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 68
                        }
                    }
                }
                entry 140 {
                    description "Accept incoming TFTP read-request and write-request messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 69
                        }
                    }
                }
                entry 150 {
                    description "Accept incoming HTTP(JSON-RPC) when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 80
                        }
                    }
                }
                entry 160 {
                    description "Accept incoming HTTP(JSON-RPC) when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 80
                        }
                    }
                }
                entry 170 {
                    description "Accept incoming NTP messages from servers"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        source-port {
                            operator eq
                            value 123
                        }
                    }
                }
                entry 180 {
                    description "Accept incoming SNMP GET/GETNEXT messages from servers"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 161
                        }
                    }
                }
                entry 190 {
                    description "Accept incoming BGP when the other router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 179
                        }
                    }
                }
                entry 200 {
                    description "Accept incoming BGP when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 179
                        }
                    }
                }
                entry 210 {
                    description "Accept incoming HTTPS(JSON-RPC) when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 443
                        }
                    }
                }
                entry 220 {
                    description "Accept incoming HTTPS(JSON-RPC) when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 443
                        }
                    }
                }
                entry 230 {
                    description "Accept incoming single-hop BFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 3784
                        }
                    }
                }
                entry 240 {
                    description "Accept incoming multi-hop BFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 4784
                        }
                    }
                }
                entry 250 {
                    description "Accept incoming uBFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 6784
                        }
                    }
                }
                entry 260 {
                    description "Accept incoming gNMI messages when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 57400
                        }
                    }
                }
                entry 270 {
                    description "Accept incoming UDP traceroute messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            range {
                                start 33434
                                end 33464
                            }
                        }
                    }
                }
                entry 280 {
                    description "Accept incoming ICMP timestamp messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        protocol icmp
                        icmp {
                            type timestamp
                        }
                    }
                }
                entry 290 {
                    description "Accept incoming OSPF messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol 89
                    }
                }
                entry 300 {
                    description "Accept incoming DHCP relay messages targeted for BOOTP/DHCP server"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        destination-port {
                            operator eq
                            value 67
                        }
                    }
                }
                entry 310 {
                    description "Accept ICMP fragment packets"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        fragment true
                        protocol icmp
                    }
                }
                entry 320 {
                    description "Accept incoming LDP packets"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol udp
                        source-port {
                            operator eq
                            value 646
                        }
                    }
                }
                entry 330 {
                    description "Accept incoming LDP packets with source-port 646"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        source-port {
                            operator eq
                            value 646
                        }
                    }
                }
                entry 340 {
                    description "Accept incoming LDP packets with destination-port 646"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 646
                        }
                    }
                }
                entry 350 {
                    description "Accept incoming gRIBI packets with destination-port 57401"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 57401
                        }
                    }
                }
                entry 360 {
                    description "Accept incoming p4rt packets with destination-port 9559"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol tcp
                        destination-port {
                            operator eq
                            value 9559
                        }
                    }
                }
                entry 370 {
                    description "Accept incoming IGMP packets"
                    action {
                        accept {
                        }
                    }
                    match {
                        protocol igmp
                    }
                }
                entry 380 {
                    description "Drop all else"
                    action {
                        drop {
                            log true
                        }
                    }
                }
            }
            ipv6-filter {
                statistics-per-entry true
                entry 10 {
                    description "Accept incoming ICMPv6 unreachable messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type dest-unreachable
                            code [
                                0
                                1
                                2
                                3
                                4
                                5
                                6
                            ]
                        }
                    }
                }
                entry 20 {
                    description "Accept incoming ICMPv6 packet-too-big messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type packet-too-big
                        }
                    }
                }
                entry 30 {
                    description "Accept incoming ICMPv6 time-exceeded messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type time-exceeded
                        }
                    }
                }
                entry 40 {
                    description "Accept incoming ICMPv6 parameter problem messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type param-problem
                        }
                    }
                }
                entry 50 {
                    description "Accept incoming ICMPv6 echo-request messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type echo-request
                        }
                    }
                }
                entry 60 {
                    description "Accept incoming ICMPv6 echo-reply messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type echo-reply
                        }
                    }
                }
                entry 70 {
                    description "Accept incoming ICMPv6 router-advertisement messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type router-advertise
                        }
                    }
                }
                entry 80 {
                    description "Accept incoming ICMPv6 neighbor-solicitation messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type neighbor-solicit
                        }
                    }
                }
                entry 90 {
                    description "Accept incoming ICMPv6 neighbor-advertisement messages"
                    action {
                        accept {
                            rate-limit {
                                system-cpu-policer icmp
                            }
                        }
                    }
                    match {
                        next-header icmp6
                        icmp6 {
                            type neighbor-advertise
                        }
                    }
                }
                entry 100 {
                    description "Accept incoming SSH when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 22
                        }
                    }
                }
                entry 110 {
                    description "Accept incoming SSH when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 22
                        }
                    }
                }
                entry 120 {
                    description "Accept incoming Telnet when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 23
                        }
                    }
                }
                entry 130 {
                    description "Accept incoming Telnet when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 23
                        }
                    }
                }
                entry 140 {
                    description "Accept incoming TACACS+ when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 49
                        }
                    }
                }
                entry 150 {
                    description "Accept incoming TACACS+ when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 49
                        }
                    }
                }
                entry 160 {
                    description "Accept incoming DNS response messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        source-port {
                            operator eq
                            value 53
                        }
                    }
                }
                entry 170 {
                    description "Accept incoming TFTP read-request and write-request messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 69
                        }
                    }
                }
                entry 180 {
                    description "Accept incoming HTTP(JSON-RPC) when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 80
                        }
                    }
                }
                entry 190 {
                    description "Accept incoming HTTP(JSON-RPC) when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 80
                        }
                    }
                }
                entry 200 {
                    description "Accept incoming NTP messages from servers"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        source-port {
                            operator eq
                            value 123
                        }
                    }
                }
                entry 210 {
                    description "Accept incoming SNMP GET/GETNEXT messages from servers"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 161
                        }
                    }
                }
                entry 220 {
                    description "Accept incoming BGP when the other router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 179
                        }
                    }
                }
                entry 230 {
                    description "Accept incoming BGP when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 179
                        }
                    }
                }
                entry 240 {
                    description "Accept incoming HTTPS(JSON-RPC) when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 443
                        }
                    }
                }
                entry 250 {
                    description "Accept incoming HTTPS(JSON-RPC) when this router initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        source-port {
                            operator eq
                            value 443
                        }
                    }
                }
                entry 260 {
                    description "Accept incoming DHCPv6 client messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 546
                        }
                    }
                }
                entry 270 {
                    description "Accept incoming single-hop BFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 3784
                        }
                    }
                }
                entry 280 {
                    description "Accept incoming multi-hop BFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 4784
                        }
                    }
                }
                entry 290 {
                    description "Accept incoming uBFD session messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 6784
                        }
                    }
                }
                entry 300 {
                    description "Accept incoming gNMI messages when the other host initiates the TCP connection"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 57400
                        }
                    }
                }
                entry 310 {
                    description "Accept incoming UDP traceroute messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            range {
                                start 33434
                                end 33464
                            }
                        }
                    }
                }
                entry 320 {
                    description "Accept incoming IPV6 hop-in-hop messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header 0
                    }
                }
                entry 330 {
                    description "Accept incoming IPV6 fragment header messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header 44
                    }
                }
                entry 340 {
                    description "Accept incoming OSPF messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header 89
                    }
                }
                entry 350 {
                    description "Accept incoming DHCPv6 relay messages"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header udp
                        destination-port {
                            operator eq
                            value 547
                        }
                    }
                }
                entry 360 {
                    description "Accept incoming gRIBI packets with destination-port 57401"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 57401
                        }
                    }
                }
                entry 370 {
                    description "Accept incoming p4rt packets with destination-port 9559"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header tcp
                        destination-port {
                            operator eq
                            value 9559
                        }
                    }
                }
                entry 380 {
                    description "Accept incoming IGMP packets"
                    action {
                        accept {
                        }
                    }
                    match {
                        next-header igmp
                    }
                }
                entry 390 {
                    description "Drop all else"
                    action {
                        drop {
                            log true
                        }
                    }
                }
            }
        }
        policers {
            system-cpu-policer icmp {
                entry-specific false
                peak-packet-rate 1000
                max-packet-burst 1000
            }
        }
    }
    bfd {
        subinterface system0.0 {
            admin-state enable
            desired-minimum-transmit-interval 1000000
            required-minimum-receive 1000000
            detection-multiplier 3
            minimum-echo-receive-interval 0
        }
    }
    interface ethernet-1/1 {
        description "to leaf1"
        admin-state enable
        vlan-tagging true
        subinterface 1 {
            admin-state enable
            ipv4 {
                address 10.1.2.3/31 {
                }
            }
            vlan {
                encap {
                    single-tagged {
                        vlan-id 1
                    }
                }
            }
        }
        sflow {
            admin-state disable
        }
    }
    interface ethernet-1/2 {
        description "to leaf2"
        admin-state enable
        vlan-tagging true
        subinterface 1 {
            admin-state enable
            ipv4 {
                address 10.1.2.7/31 {
                }
            }
            vlan {
                encap {
                    single-tagged {
                        vlan-id 1
                    }
                }
            }
        }
        sflow {
            admin-state disable
        }
    }
    interface ethernet-1/3 {
        description "to leaf3"
        admin-state enable
        vlan-tagging true
        subinterface 1 {
            admin-state enable
            ipv4 {
                address 10.1.2.11/31 {
                }
            }
            vlan {
                encap {
                    single-tagged {
                        vlan-id 1
                    }
                }
            }
        }
        sflow {
            admin-state disable
        }
    }
    interface mgmt0 {
        admin-state enable
        subinterface 0 {
            admin-state enable
            ipv4 {
                dhcp-client {
                }
            }
            ipv6 {
                dhcp-client {
                }
            }
        }
    }
    interface system0 {
        description system
        subinterface 0 {
            description system
            admin-state enable
            ipv4 {
                address 10.0.0.6/32 {
                }
            }
        }
    }
    system {
        aaa {
            authentication {
                idle-timeout 7200
                authentication-method [
                    local
                ]
            }
            server-group local {
                type local
            }
        }
        lldp {
            admin-state enable
        }
        gnmi-server {
            admin-state enable
            network-instance mgmt {
                admin-state enable
                tls-profile clab-profile
            }
            unix-socket {
                admin-state enable
            }
        }
        tls {
            server-profile clab-profile {
                key $aes$fwCGtEo52qZY=$AdRY2QP/BOPSuxwBYctQ0q6MfTwcXtX5CShbAV6aC+8Nyz4onK/BY09VVrTYmDkRn598mCQQ181bmJu9tBgwLEMUwxsScTq90nKQvsfBLT3qrV6sOLRwbr4ZMrQbreSGovQzpr+x8AEPm/BlllEae0A+5i2uu6kSo0GIVano9ru4TOOinR8+1m3EGrjInkWCduVA0q+ejAvaf9fdaFS8il15HlCJv3h844FQsjXufkypP7ctM4rEBMjWjzt9SQHyLlYUvIK8hJtrbtW/LGp/Ztrow0kbyLc2s1X7JTmoXGAP4FqJ1Vtg+9amUlAZyK6lh0okS2T5Qx8vYIbSn6rue3UxjWbz3/Oq+DMSiFkdjR1s/uzVSy/6zYbd46uzhiq+AoclnSJ8NhF8LlEnkdG5ZY9C8HNMCvi9jkXx9yx9aNEOYngemhgVJfcgd+QL2DM4AUw0GUmtqBw1K0f8ho/Ek9LXT9HD6okn/8nwlFT1lAATlgXFd1WxeiISgs4Bt9VeNvhMCbOQKlmDBZB8D0gJe+QQdgS6BMX6fit7+68gRM0Q05c+eh1i+UZWTYwScPZoGuiLmVqBcWM3aL2JBNmLXKV2difoqokrBHpVH5UPCVVsMM0NbJhbFdgsQxp+v8XsMkf5KRRdSAWsAoYwFAKQ8WqDzIpmcB8HLGWOmdRs5AQ+xZ7yEBdlTbslxab39zcXknMt+OrKvFHnm9pONz/DEMYuj9wcSzkZcgIEJF+pFrJeUHaBR8YklxBNP1YGlGQBTJ6Ei37du67qNKqIIIo74HXbHaNXwgkXFfIzdJ6SBPjE9vhNH/ZSG9FvZ/PPkMEno175geBoL6qJ120kyqjOusK9hcPO8922kBMCR1ebCjr0hUCBFAU9BhX70PCpU+bEvSje2k7E4mhNcKYi/9NeRb5OQecJjP9JWmKDFnfOq9Tj5iGk3zvX/I2P/uFrcIEqdl9yKmUh6BwZSdwPHUn1lad+tFjJqh0P3fehZZ6j9IAhXsj3WTg9ow7li+HvzdM0Ph18PGQZ6b14mg2J1VDrtIAVzAUZO1WSPljhgTIjG7O4MzQonP4tkUVSW+fgOl7cH6UPh3JL1ABFs4jr53bdjVTVjpRusrMMWDCSuBWpjYEjlP/EEjuvdEahvApD39WsrhyVJVQbKQC4W8/jIxSJ0nRHqYqC6XtB9tia/4O3jqQpdaSbJpA4ptWfivOUikQPvg6prWbymol+VFFVwkoUHAuUrdKWk/XEyvpNOcYdFPaUxsU0wk1pIhPolqxyqImrONjRGyNcgqmjL3Lbc42tsCRIcD3baglM6TukrIGmeaASGbSQGmW2RrYZD/Yo4rhJ9z8syD2zS1Ik9bXQixYUEnZ+z+BGJQNCeo6051OXQFvsBlZODSp1NECV39pzs4xlKKF6lnoZTzPfGTqT0VPR85jJx9HkXK95wtEDNMkjQ7ysLqAyDxUrKEpuTrYH7K6X8K75e7qTJCRNAC/A/O2kXHwq58hP/+BhzUQeAe1nDYQhb03W7WA4yTtkXSvSxuNmF+RYYZ+9l7U/U9FShDRa3/s001YuyXh0vi8AhtMuzq6qBFlzH9Db0/48Qt36YSFQV7nnNLDtZrnrgq9V8b0iX1URjotCzvyzoMsdsDnkFtTXPgZtKBz3APTjyM9WCJiFR5nJP+LXS6kO1L2pbcPlPwlb+ruDZh7uHxWUJDK/nhiPbApid9H/Wx+p65+ODd4ejxkNPvO51Hx5VS0OY61rZNG+c/vdDN7GvJqlPzU1e+dXXtApcrDH1KKJn1YCNdEb+cbA1QdAH4crqRQNSkQ6Nrn9S4kG7JSCDzW5qUclR84/iCHV/IUo8Hh/VEj/6RC+H2QSAQvN+a+yd37ZiXZIvlPyIQC1sJ5/+W1rc9HXhcYu4r4SXT1tP4UnwiS+6cQmfAAgmwma/OLSXygqKGiLPFdEo0CxQH5xpqKgz6xBYrdg9sORMrDjwUWN+P1kCcixkTgRUDr1HD7QhxEGfTZEL9l+mfhhdJ6gRWhECzaixuApfFeG8wGtSIh8B6jlu0P1a73UD50aRtDqOYP4s7HmgzJNx+PUlVov4IdGI1jW+3MZ1tCQx2gMWTZ3+WN2m1M9jh8urFxo9C8rwZsPn0lyDWmP/jRifaNKaLNyR88QzlC0m9y9j1JeZ5CXnKYupFPgm1EvQIdR8G6NxhKcGtYYf6BaAcS5DdU64HVh2iEOAPtFR6STFsDe5VMGuR2Oav4v
                certificate "-----BEGIN CERTIFICATE-----
MIID9TCCAt2gAwIBAgIUMS6yfGCKEV2fSEAV3Ch+GBpNTQcwDQYJKoZIhvcNAQEL
BQAwXTELMAkGA1UEBhMCQkUxEDAOBgNVBAcTB0FudHdlcnAxDjAMBgNVBAoTBU5v
a2lhMRYwFAYDVQQLEw1Db250YWluZXIgbGFiMRQwEgYDVQQDEwtlbGsgUm9vdCBD
QTAeFw0yMzAyMTIxMDI5MDBaFw0yNDAyMTIxMDI5MDBaMF8xCzAJBgNVBAYTAkJF
MRAwDgYDVQQHEwdBbnR3ZXJwMQ4wDAYDVQQKEwVOb2tpYTEWMBQGA1UECxMNQ29u
dGFpbmVyIGxhYjEWMBQGA1UEAxMNc3BpbmUyLmVsay5pbzCCASIwDQYJKoZIhvcN
AQEBBQADggEPADCCAQoCggEBAMcKX/KPrflofW1eLWXb6x9f5PdnXJdP8RY3mz5x
sTXEiPUjCiwTrqaI2SC18gkVwb7hI2zrEq1kvxoIult/Nz/xfoRLkqhTms2d+zXj
YbhYW2B0ZB/bTq8X1PaBX7S/erczGdATJQQlFAMfGJlbONun72qLja0AYIdIhuu3
8Rx09VkYdaLGxrXGDaFbG4Crj88EFYqVinDfRHQj+aDKuU9NlsCL1NbOd/Uv1TPn
gDVDBhGJXsIPJ2xszfuQ6CGksYOSxBgeueHkJWcery8k0sZmm49ULtJxY4TQBDLE
4mHfOLQ356stENgNlhaQsZhS2jSXQLWjfZzkGPVcKOgyuucCAwEAAaOBqjCBpzAO
BgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwG
A1UdEwEB/wQCMAAwHQYDVR0OBBYEFIF4J7ouPkKiIJFbE2jOYqRr1YzdMB8GA1Ud
IwQYMBaAFDGpB7FKhN1g4LwuHS8quA9HPGidMCgGA1UdEQQhMB+CBnNwaW5lMoIG
c3BpbmUygg1zcGluZTIuZWxrLmlvMA0GCSqGSIb3DQEBCwUAA4IBAQCXhHGSJcTX
94lJyfUd1+UgQ/uWNDunK7dAUnVtxqc8DWXpZHXKq3/Tr3umxaPcWD7cbVowTrUc
uu/WPxHuhteokwNFH3X1qXwDiCrFWaK1qFA8hyu6YmZciufaN6z5L0xqkslj2OqC
TYeSPZDgESiydAYCheqNjNL+dj8SE60aFzJt9UfoLss7HnpW2Fm5p6HECRCViTSE
Ha9gxS4XiVmSquBfUO6NxWD3cRLZ8kEC3+5oImLvTEzN6jv/HcQzWleGDfhJiweR
vAz00mffFvjtEVgYjFsQYNoN0MaC5n9BacXxiPM/wU14T4th0cNrjaU9zsPMwfI2
rU/lno1cmCa5
-----END CERTIFICATE-----
"
                authenticate-client false
            }
        }
        json-rpc-server {
            admin-state enable
            network-instance mgmt {
                http {
                    admin-state enable
                }
                https {
                    admin-state enable
                    tls-profile clab-profile
                }
            }
        }
        clock {
            timezone Europe/Rome
        }
        ssh-server {
            network-instance mgmt {
                admin-state enable
            }
        }
        banner {
            login-banner "................................................................
:                  Welcome to Nokia SR Linux!                  :
:              Open Network OS for the NetOps era.             :
:                                                              :
:    This is a freely distributed official container image.    :
:                      Use it - Share it                       :
:                                                              :
: Get started: https://learn.srlinux.dev                       :
: Container:   https://go.srlinux.dev/container-image          :
: Docs:        https://doc.srlinux.dev/22-6                    :
: Rel. notes:  https://doc.srlinux.dev/rn22-6-4                :
: YANG:        https://yang.srlinux.dev/v22.6.4                :
: Discord:     https://go.srlinux.dev/discord                  :
: Contact:     https://go.srlinux.dev/contact-sales            :
................................................................
"
        }
        logging {
            network-instance mgmt
            buffer messages {
                rotate 3
                size 10000000
                facility local6 {
                    priority {
                        match-above informational
                    }
                }
            }
            buffer system {
                facility auth {
                    priority {
                        match-above warning
                    }
                }
                facility cron {
                    priority {
                        match-above warning
                    }
                }
                facility daemon {
                    priority {
                        match-above warning
                    }
                }
                facility ftp {
                    priority {
                        match-above warning
                    }
                }
                facility kern {
                    priority {
                        match-above warning
                    }
                }
                facility lpr {
                    priority {
                        match-above warning
                    }
                }
                facility mail {
                    priority {
                        match-above warning
                    }
                }
                facility news {
                    priority {
                        match-above warning
                    }
                }
                facility syslog {
                    priority {
                        match-above warning
                    }
                }
                facility user {
                    priority {
                        match-above warning
                    }
                }
                facility uucp {
                    priority {
                        match-above warning
                    }
                }
                facility local0 {
                    priority {
                        match-above warning
                    }
                }
                facility local1 {
                    priority {
                        match-above warning
                    }
                }
                facility local2 {
                    priority {
                        match-above warning
                    }
                }
                facility local3 {
                    priority {
                        match-above warning
                    }
                }
                facility local4 {
                    priority {
                        match-above warning
                    }
                }
                facility local5 {
                    priority {
                        match-above warning
                    }
                }
                facility local7 {
                    priority {
                        match-above warning
                    }
                }
            }
            file messages {
                rotate 3
                size 10000000
                facility local6 {
                    priority {
                        match-above warning
                    }
                }
            }
            remote-server 172.22.22.11 {
                transport udp
                remote-port 1514
                subsystem aaa {
                    priority {
                        match-above informational
                    }
                }
                subsystem acl {
                    priority {
                        match-above informational
                    }
                }
                subsystem bfd {
                    priority {
                        match-above informational
                    }
                }
                subsystem bgp {
                    priority {
                        match-above informational
                    }
                }
                subsystem bridgetable {
                    priority {
                        match-above informational
                    }
                }
                subsystem chassis {
                    priority {
                        match-above informational
                    }
                }
                subsystem evpn {
                    priority {
                        match-above informational
                    }
                }
                subsystem fib {
                    priority {
                        match-above informational
                    }
                }
                subsystem gnmi {
                    priority {
                        match-above informational
                    }
                }
                subsystem lag {
                    priority {
                        match-above informational
                    }
                }
                subsystem linux {
                    priority {
                        match-above informational
                    }
                }
                subsystem lldp {
                    priority {
                        match-above informational
                    }
                }
                subsystem mgmt {
                    priority {
                        match-above informational
                    }
                }
                subsystem platform {
                    priority {
                        match-above informational
                    }
                }
                subsystem vxlan {
                    priority {
                        match-above informational
                    }
                }
            }
        }
    }
    network-instance default {
        interface ethernet-1/1.1 {
        }
        interface ethernet-1/2.1 {
        }
        interface ethernet-1/3.1 {
        }
        interface system0.0 {
        }
        protocols {
            bgp {
                admin-state enable
                autonomous-system 65177
                router-id 10.0.0.6
                group ebgp-underlay {
                    admin-state enable
                    export-policy export-to-underlay
                    import-policy import-from-underlay
                    failure-detection {
                        fast-failover true
                    }
                    timers {
                        connect-retry 10
                        hold-time 3
                        keepalive-interval 1
                        minimum-advertisement-interval 1
                    }
                }
                group ibgp-evpn {
                    admin-state enable
                    export-policy export-all
                    import-policy import-all
                    peer-as 65501
                    failure-detection {
                        enable-bfd true
                        fast-failover true
                    }
                    ipv4-unicast {
                        admin-state disable
                    }
                    ipv6-unicast {
                        admin-state disable
                    }
                    evpn {
                        admin-state enable
                    }
                    local-as 65501 {
                    }
                    route-reflector {
                        client true
                        cluster-id 10.0.0.6
                    }
                    timers {
                        connect-retry 10
                        hold-time 3
                        keepalive-interval 1
                        minimum-advertisement-interval 1
                    }
                    transport {
                        tcp-mss 1460
                        local-address 10.0.0.6
                    }
                }
                ipv4-unicast {
                    multipath {
                        allow-multiple-as true
                        max-paths-level-1 64
                        max-paths-level-2 64
                    }
                }
                evpn {
                    rapid-update true
                }
                neighbor 10.0.0.1 {
                    admin-state enable
                    peer-group ibgp-evpn
                }
                neighbor 10.0.0.2 {
                    admin-state enable
                    peer-group ibgp-evpn
                }
                neighbor 10.0.0.3 {
                    admin-state enable
                    peer-group ibgp-evpn
                }
                neighbor 10.1.2.2 {
                    admin-state enable
                    peer-as 64601
                    peer-group ebgp-underlay
                }
                neighbor 10.1.2.6 {
                    admin-state enable
                    peer-as 64602
                    peer-group ebgp-underlay
                }
                neighbor 10.1.2.10 {
                    admin-state enable
                    peer-as 64603
                    peer-group ebgp-underlay
                }
                route-advertisement {
                    rapid-withdrawal true
                    wait-for-fib-install true
                }
            }
        }
    }
    network-instance mgmt {
        type ip-vrf
        admin-state enable
        description "Management network instance"
        interface mgmt0.0 {
        }
        protocols {
            linux {
                import-routes true
                export-routes true
                export-neighbors true
            }
        }
    }
    routing-policy {
        prefix-set loopbacks {
            prefix 10.0.0.0/24 mask-length-range 32..32 {
            }
        }
        policy export-all {
            default-action {
                policy-result accept
            }
        }
        policy export-to-underlay {
            default-action {
                policy-result reject
            }
            statement 10 {
                match {
                    prefix-set loopbacks
                }
                action {
                    policy-result accept
                }
            }
            statement 20 {
                match {
                    family [
                        ipv4-unicast
                    ]
                }
                action {
                    policy-result accept
                }
            }
        }
        policy import-all {
            default-action {
                policy-result accept
            }
        }
        policy import-from-underlay {
            default-action {
                policy-result reject
            }
            statement 10 {
                match {
                    prefix-set loopbacks
                }
                action {
                    policy-result accept
                }
            }
            statement 20 {
                match {
                    family [
                        ipv4-unicast
                    ]
                }
                action {
                    policy-result accept
                }
            }
        }
        policy import-from-underlaydefault-action {
        }
    }
